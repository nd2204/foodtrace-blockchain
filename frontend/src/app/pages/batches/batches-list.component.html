<div class="page">
  <header class="page-header">
    <div>
      <h1>{{ 'PAGES.BATCHES.TITLE' | translate }}</h1>
      <p class="page-subtitle">{{ 'PAGES.BATCHES.SUBTITLE' | translate }}</p>
    </div>

    <div class="page-actions">
      <div class="search-box">
        <span class="search-icon">üîç</span>
        <input
          type="text"
          placeholder="T√¨m ki·∫øm l√¥ h√†ng..."
          [(ngModel)]="searchTerm"
        >
      </div>

      <button class="btn-secondary">{{ 'PAGES.BATCHES.BTN_IMPORT' | translate }}</button>
      <button class="btn-primary">{{ 'PAGES.BATCHES.BTN_CREATE' | translate }}</button>
    </div>
  </header>

  <table class="table">
    <thead>
      <tr>
        <th>{{ 'PAGES.BATCHES.TH_ID' | translate }}</th>
        <th>{{ 'PAGES.BATCHES.TH_CODE' | translate }}</th>
        <th>{{ 'PAGES.BATCHES.TH_PRODUCT' | translate }}</th>
        <th>{{ 'PAGES.BATCHES.TH_FARM' | translate }}</th>
        <!-- <th>{{ 'PAGES.BATCHES.TH_STATUS' | translate }}</th> -->
        <th>{{ 'PAGES.BATCHES.TH_CREATED' | translate }}</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let b of filteredBatches">
        <td>{{ b.batch_id }}</td>
        <td>{{ b.batch_number }}</td>
        <td>{{ b.product_name }}</td>
        <td>{{ b.farm_name }}</td>
        <!-- <td> -->
        <!--   <span class="badge" [ngClass]="'badge-status-' + (b.status | lowercase).replace(' ', '-')"> -->
        <!--     {{ b.status }} -->
        <!--   </span> -->
        <!-- </td> -->
        <td>{{ b.created_at }}</td>
        <td class="table-actions">
          <button class="link" [routerLink]="['/batches', b.batch_id]">{{ 'PAGES.BATCHES.BTN_VIEW' | translate }}</button>
          <button class="link" [routerLink]="['/trace']" [queryParams]="{ code: b.batch_number }">
            {{ 'PAGES.BATCHES.BTN_TRACE' | translate }}
          </button>
        </td>
      </tr>

      <tr *ngIf="filteredBatches.length === 0">
        <td colspan="7" style="text-align: center; padding: 20px; color: #64748b;">
          Kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£ n√†o cho "{{ searchTerm }}"
        </td>
      </tr>
    </tbody>
  </table>
</div>
